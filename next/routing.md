### Как реализовать динамическую маршрутизацию в Next.js?
- `[id]` — Базовая динамическая маршрутизация.
- `[...slug]` — Catch-all маршруты для захвата любого количества вложенных сегментов.
- `[[...slug]]` — Необязательные динамические маршруты, которые могут работать как с параметрами, так и без.

#### Динамические маршруты

Чтобы создать динамический маршрут, используйте квадратные скобки в названии файла или директории. Например, если вам 
нужно создать страницу для поста с определённым ID, структура будет следующей: `posts/[id]/page.js`. Здесь `[id]` — 
это динамический параметр, который может принимать любое значение (например, `/posts/1`, `/posts/2`).

```bash
app/
  posts/
    [id]/
      page.js
```

####  Catch-all маршруты

Если нужно поддерживать более сложные динамические маршруты (например, с несколькими уровнями вложенности), используйте 
синтаксис `[...]` для `catch-all` маршрутов. Пример структуры будет примерно такой: `docs/[...slug]/page.js`. Теперь 
маршрут `/docs/introduction/getting-started` и любой другой вложенный путь будет обработан этим файлом.

```bash
app/
  docs/
    [...slug]/
      page.js
```

#### Необязательные catch-all маршруты

Если часть пути является необязательной, можно использовать синтаксис `[...[slug]]`. Это позволяет поддерживать как 
базовый маршрут `/docs`, так и вложенные маршруты. Пример структуры будет примерно такой: `docs/[[...slug]]/page.js`.
Теперь этот маршрут будет работать как для `/docs` так и для маршрута с параметрами вроде `/docs/introduction/getting-started`

```bash
app/
  docs/
    [[...slug]]/
      page.js
```

### Какие различия между страницами в папке pages и компонентами, рендерящимися внутри этих страниц?

В папке `pages` должны находиться только страницы, так как каждый файл в этой папке автоматически превращается в маршрут. 
Если поместить в папку pages компонент, Next.js воспримет его как маршрут, что создаст лишние URL, которые не предназначены 
для этого компонента.

В контексте `app` ключевым отличием от `pages` является то, что маршрутизация строится на основе соглашений о названии файлов. 
Это означает, что любая папка, которая содержит файл `page.js`, автоматически становится маршрутом. Следовательно, внутри 
папки, в которой находится `page.js`, может быть другая папка например `lib` с разными файлами которые содержат специфичную 
логику для конкретного уровня. 


### Как работают API маршруты в Next.js и как их можно использовать для создания бэкенда?

#### Pages
API маршруты в Next.js позволяют создавать серверные API прямо в вашем Next.js приложении. Это полезно, если нужно реализовать 
серверную логику, такую как обработка форм, интеграция с базами данных или внешними API, без необходимости поднимать отдельный 
сервер. Эти маршруты создаются в папке `pages/api`

- Каждый файл в папке `pages/api` становится отдельным API маршрутом.
- API маршруты всегда исполняются на серверной стороне.
- API маршруты экспортируют функцию, которая принимает объект `req`, `res`. Внутри этой функции можно реализовать логику 
обработки запросов.
- Внутри каждого файла делается проверка для определения типа `HTTP` запроса. Пример: `req.method === 'POST'`
- Для возврата ответа сервера нужно использовать один из методов, (`res.json()`, `res.send()`, `res.end()`)
- Можно создавать динамические API маршруты, используя синтаксис `[id]`, аналогичный динамическим страницам.

#### App

В контексте папки `app` API маршруты работают несколько иначе, чем в `pages`. Они реализуются через файлы `route.js`, и 
маршрутизация основана на соглашениях об именах файлов и методах.

- В папке `app`, API маршруты создаются с помощью файлов `route.js`, которые соответствуют конкретным маршрутам. Например, 
если создать `app/api/user/route.js`, это создаст API маршрут, доступный по пути `/api/user`.
- В файле `route.js` нужно экспортировать функции, которые соответствуют `HTTP` методам (`GET`, `POST`, `PUT`, `DELETE` и т.д.). 
Эти методы определяют логику для обработки запросов определенного типа.
- Подобно динамическим страницам, можно создавать динамические API маршруты, используя синтаксис с квадратными скобками.
- API маршруты в `app` используют объект `Response` для отправки ответа. Он позволяет задать статус, заголовки и тело ответа.
