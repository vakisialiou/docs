### Network

SSL/TLS (Secure Sockets Layer / Transport Layer Security)

#### HTTP (HyperText Transfer Protocol)

HTTP - это протокол передачи данных, который используется для связи между клиентом (браузером) и сервером.

1. Клиент (браузер) отправляет HTTP-запрос на сервер.
2. Запрос содержит заголовки и сам контент.
3. Сервер обрабатывает запрос и отправляет HTTP-ответ.
4. Ответ содержит код состояния (например, 200 OK), заголовки и сам контент (HTML, JSON, изображение и т. д.).

Не защищен: данные передаются без шифрования.

#### HTTPS (HyperText Transfer Protocol Secure) 

HTTPS - это защищенная версия HTTP, использующая шифрование для защиты данных.
Важно: HTTPS не шифрует доменное имя, но шифрует весь трафик после установления соединения.

Основные отличия от HTTP:
  - Использует SSL/TLS для шифрования данных.
  - Защищает от MITM-атак (перехвата данных).
  - Браузеры доверяют сайтам с HTTPS больше (зеленый замочек в адресной строке).

Как работает HTTPS?
  - Клиент отправляет запрос на сервер.
  - Сервер отвечает своим SSL-сертификатом.
  - Устанавливается шифрованное соединение.
  - После этого передача данных идет как в HTTP, но в зашифрованном виде.

Когда браузер делает запрос - он начинает так называемый TLS Handshake (рукопожатие TLS), 
чтобы установить безопасное соединение.
**Во время TLS Handshake:**
  - клиент передает серверу (ClientHello)
    - Версия TLS (TLS 1.2 или TLS 1.3).
    - Поддерживаемые криптографические алгоритмы (шифры, например AES, RSA, ECDSA).
    - Случайные данные (random number) для генерации ключей.
  - сервер отвечает (ServerHello) и отправляет SSL-сертификат
    - Сервер выбирает лучший криптографический алгоритм из предложенных клиентом.
    - Отправляет свой SSL-сертификат (подписанный удостоверяющим центром, CA).
    - В сертификате содержится публичный ключ сервера.
    - Сервер тоже отправляет случайное число (random number).
**Клиент** 
  - Клиент проверяет подлинность SSL-сертификата.
  - Затем он генерирует случайный секретный ключ (Pre-Master Key), который будет использоваться для 
  симметричного шифрования.
  - Шифрует этот ключ публичным ключом сервера (из SSL-сертификата).
  - Отправляет зашифрованный ключ серверу.
**Сервер**
  - Сервер использует свой приватный ключ для расшифровки Pre-Master Key.
  - Теперь клиент и сервер имеют одинаковый "секретный ключ", который будет использоваться для быстрого 
  симметричного шифрования.
**Оба вычисляют Session Key и начинают шифрованное общение**
  - Из трех случайных значений (Client Random, Server Random, Pre-Master Key) вычисляется общий Session Key.
  - Этот ключ используется для быстрого симметричного шифрования.
**Завершение TLS Handshake**
  - Клиент и сервер отправляют "Finished" (последние проверки).
  - Теперь HTTPS-соединение установлено, и клиент может безопасно передавать данные.

#### TCP vs UDP

TCP vs UDP - это транспортные протоколы, которые используются для передачи данных по сети.

- TCP
  - Использует "надежную" передачу данных за счет установления соединения и контроля ошибок.
  - Установление соединения (3-way handshake)
  - Каждое сообщение, отправленное по TCP, требует подтверждения получения (ACK)
  - Завершение соединения (4-way handshake)
- UDP
  - Это простой и быстрый протокол. Он просто отправляет пакеты, не проверяя, дошли ли они.
  - Сервер может получить не все пакеты или в неправильном порядке, потому что нет подтверждений.

#### caching techniques

Виды кэширования:
- **Client-side caching** (Cache Storage)
- **Server-side caching**	(API, Backend	Redis)
- **CDN caching** - Глобальная сеть
- **Database caching** - SQL, NoSQL

1. Time-based Caching (TTL) – данные хранятся до истечения времени жизни.
2. Write-Through Cache (Кеширование при записи) – Данные сначала записываются в кеш, затем в основную базу данных.
3. Write-Back Cache (Запись с отложенной синхронизацией) – сначала в кэш, потом в БД (ускоряет запись).
4. Cache-aside (Lazy Loading) – кэш по запросу
   - Если данные есть в кэше → отдаем.
   - Если нет → берем из БД, кладем в кэш, отдаем клиенту.
5. Content Delivery Network (CDN) -  кэширование на уровне сети
6. Query Caching – кэширование SQL-запросов
7. HTTP-кеширование (Cache-Control, ETag) – кэширование объектов в коде
   - Cache-Control: max-age=3600 → браузер хранит кеш 1 час.
   - ETag: "abc123" → сервер отправляет хеш, если он не изменился, браузер берет кеш.


#### DNS (Domain Name System)

Когда ты вводишь в браузере https://example.com, компьютер не понимает это имя. Он отправляет запрос к DNS-серверу, 
который находит IP-адрес сервера (93.184.216.34), где хранится сайт.

Компьютер выполняет 4 шага, чтобы найти IP-адрес:
1. Шаг 1. Проверка локального DNS-кеша
2. Шаг 2. Запрос к рекурсивному DNS-серверу (ISP) который предоставляется твоим интернет-провайдером.
3. Шаг 3. Запрос к корневому DNS-серверу
   - Рекурсивный сервер не знает IP-адрес, поэтому он спрашивает корневые серверы (Root DNS Servers).
   - В мире есть 13 корневых серверов.
4. Шаг 4. Запрос к авторитативному DNS-серверу
