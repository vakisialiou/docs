[Назад](../README.md)
# Асинхронное программирование

### Как обрабатывать асинхронный код в Node.js?
   - **Колбэки:** Это самый простой способ обработки асинхронного кода. Вы передаете функцию обратного вызова (колбэк) в асинхронную функцию, и она будет вызвана по завершении операции.
   - **Промисы:** Promise позволяют более удобно обрабатывать асинхронные операции, избегая "callback hell". Промисы могут находиться в одном из трех состояний: ожидание, выполнено или отклонено.
   - **Async/Await:** это синтаксический сахар над промисами, который позволяет писать асинхронный код в более линейном и понятном стиле. Функция, объявленная с async, всегда возвращает промис, а await позволяет ждать завершения промиса.
   - 
### Что такое обратные вызовы и как они работают в Node.js?
   - **Колбэки** — это функции, которые передаются в другие функции в качестве аргументов и вызываются после завершения определенной операции.

### Объясните Promises и то, как они улучшают обработку асинхронного кода.
- **Состояния промиса:** - Промис может находиться в одном из трех состояний:
    - **Ожидание (Pending):** начальное состояние, когда операция еще не завершена.
    - **Выполнено (Fulfilled):** операция завершена успешно, и промис возвращает результат.
    - **Отклонено (Rejected):** операция завершена с ошибкой, и промис возвращает причину ошибки.

- **Методы промисов:**
    - **then():** используется для обработки успешного завершения промиса. Этот метод принимает два аргумента: функцию для обработки результата и (опционально) функцию для обработки ошибки.
    - **catch():** используется для обработки ошибок, если промис был отклонен.
    - **finally():** выполняет код после завершения промиса, независимо от того, был он выполнен успешно или отклонен.
- **Преимущества промисов:**
    - **Читаемость:** Промисы позволяют писать асинхронный код в более линейном и понятном стиле, избегая глубокой вложенности колбэков (так называемого "callback hell").
    - **Обработка ошибок:** Ошибки можно обрабатывать централизованно с помощью метода catch(), что упрощает отладку и делает код более структурированным.
    - **Цепочки промисов:** Промисы позволяют создавать цепочки вызовов, что делает код более чистым и управляемым. Вы можете последовательно обрабатывать результаты нескольких асинхронных операций.

### Объясни что значит "Цепочка вызовов & Обрабатывать ошибки централизованно с помощью метода catch()" в контексте Promise.
- Цепочки вызовов промисов позволяют последовательно обрабатывать результаты асинхронных операций. Это делает код более читаемым и управляемым.
- Централизованная обработка ошибок означает, что вы обрабатываете все ошибки в одном месте, а не разбросаны по всему коду. Это позволяет избежать дублирования кода и упрощает управление ошибками.

```js
const fs = require('fs').promises;

// Чтение первого файла
fs.readFile('file1.txt')
    .then(data => {
        console.log('Содержимое file1.txt:', data.toString());
        // Чтение второго файла
        return fs.readFile('file2.txt');
    })
    .then(data => {
        console.log('Содержимое file2.txt:', data.toString());
    })
    .catch(err => {
        // Централизованная обработка ошибок
        console.error('Произошла ошибка:', err);
    });
```

### Как работает async/await в Node.js?
- **async:** Ключевое слово async используется перед функцией, чтобы обозначить, что она будет содержать асинхронный код. Функция, объявленная с async, всегда возвращает промис. Если функция возвращает значение, оно автоматически оборачивается в промис.
- **await:** Ключевое слово await используется внутри асинхронной функции и заставляет код ждать завершения промиса. Когда await используется, выполнение функции приостанавливается до тех пор, пока промис не будет выполнен или отклонен.

### Что такое «callback hell» и как его избежать?
- **Callback hell (ад колбэков)** — это термин, описывающий ситуацию, когда много вложенных колбэков делают код трудным для чтения и сопровождения.
- **Использование промисов:** Промисы позволяют обрабатывать асинхронные операции более линейно и избегать глубокой вложенности.
```js 
Promise.all([readFile('file1.txt'), readFile('file2.txt')]) 
```
- **Использование async/await:** Это позволяет писать код в более линейном и понятном стиле.


